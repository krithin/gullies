## Gullies
Maps of routes draining into a common sink from all over a road network.

![New York roads](output/nyplacesandcosubs_fine.png)

Inspired by moovel labs' [Roads to Rome](https://lab.moovel.com/projects/roads-to-rome) and Topi Tjukanov's [Roads of America](https://tjukanov.org/roadsofamerica/).

## Usage

### Prerequisites
In general, you'll need an [OSM](https://en.wikipedia.org/wiki/OpenStreetMap) snapshot to process, an [OSRM](http://project-osrm.org/) instance running against that same snapshot, and some intial set of destination points to route to (such as from one of the files in [inputdata/](inputdata/) or as generated by [getlocations.py](getlocations.py)).

In more detail:
1. Grab an OSM extract for a region you're interested in. These are available from http://download.geofabrik.de/ or other sources listed on the [OSM wiki](https://wiki.openstreetmap.org/wiki/Planet.osm#Planet.osm_mirrors).
```
curl -O http://download.geofabrik.de/north-america/us/new-york-latest.osm.pbf
```

2. Get OSRM, following the instructions at https://github.com/Project-OSRM/osrm-backend:
```
fill in osrm instructions here.
```
and get it to start routing against the same snapshot:
```
```
(you can also build OSRM locally instead of using docker if you wish)

You'll also need to install the [matplotlib](https://matplotlib.org/users/installing.html) and [python-requests](https://github.com/requests/requests) python packages using `pip` or your favourite package manager.

### Generating images
